{
  "info": {
    "name": "EcoTrack Oracle API - Sprint 2",
    "description": "Coleção completa de testes para a API EcoTrack com HATEOAS nível 3",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base",
      "value": "http://localhost:8080",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Products",
      "item": [
        {
          "name": "List All Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base}}/api/products",
              "host": ["{{base}}"],
              "path": ["api", "products"]
            },
            "description": "Lista todos os produtos com links HATEOAS"
          }
        },
        {
          "name": "Get Product by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base}}/api/products/{productId}",
              "host": ["{{base}}"],
              "path": ["api", "products", "{productId}"],
              "variable": [
                {
                  "key": "productId",
                  "value": "11111111-1111-1111-1111-111111111111"
                }
              ]
            },
            "description": "Busca produto por ID com links relacionados"
          }
        },
        {
          "name": "Get Product by Barcode",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base}}/api/products/barcode/7891000310101",
              "host": ["{{base}}"],
              "path": ["api", "products", "barcode", "7891000310101"]
            },
            "description": "Busca produto por código de barras"
          }
        },
        {
          "name": "Get Products by Category",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base}}/api/products/category/Cereais",
              "host": ["{{base}}"],
              "path": ["api", "products", "category", "Cereais"]
            },
            "description": "Lista produtos por categoria"
          }
        },
        {
          "name": "Search Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base}}/api/products/search?q=Granola",
              "host": ["{{base}}"],
              "path": ["api", "products", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "Granola"
                }
              ]
            },
            "description": "Busca produtos por termo"
          }
        },
        {
          "name": "Create Product",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": null,\n  \"name\": \"Granola Integral\",\n  \"category\": \"Cereais\",\n  \"kcal100g\": 380.0,\n  \"co2PerUnit\": 0.9,\n  \"barcode\": \"7891000310101\"\n}"
            },
            "url": {
              "raw": "{{base}}/api/products",
              "host": ["{{base}}"],
              "path": ["api", "products"]
            },
            "description": "Cria novo produto"
          }
        },
        {
          "name": "Update Product",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Granola Integral Atualizada\",\n  \"category\": \"Cereais\",\n  \"kcal100g\": 390.0,\n  \"co2PerUnit\": 0.95,\n  \"barcode\": \"7891000310101\"\n}"
            },
            "url": {
              "raw": "{{base}}/api/products/{productId}",
              "host": ["{{base}}"],
              "path": ["api", "products", "{productId}"],
              "variable": [
                {
                  "key": "productId",
                  "value": "11111111-1111-1111-1111-111111111111"
                }
              ]
            },
            "description": "Atualiza produto existente"
          }
        },
        {
          "name": "Delete Product",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base}}/api/products/{productId}",
              "host": ["{{base}}"],
              "path": ["api", "products", "{productId}"],
              "variable": [
                {
                  "key": "productId",
                  "value": "11111111-1111-1111-1111-111111111111"
                }
              ]
            },
            "description": "Remove produto"
          }
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "List All Users",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base}}/api/users",
              "host": ["{{base}}"],
              "path": ["api", "users"]
            },
            "description": "Lista todos os usuários com links HATEOAS"
          }
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base}}/api/users/{userId}",
              "host": ["{{base}}"],
              "path": ["api", "users", "{userId}"],
              "variable": [
                {
                  "key": "userId",
                  "value": "22222222-2222-2222-2222-222222222222"
                }
              ]
            },
            "description": "Busca usuário por ID com links relacionados"
          }
        },
        {
          "name": "Get User by Email",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base}}/api/users/by-email?email=demo@ecotrack.com",
              "host": ["{{base}}"],
              "path": ["api", "users", "by-email"],
              "query": [
                {
                  "key": "email",
                  "value": "demo@ecotrack.com"
                }
              ]
            },
            "description": "Busca usuário por email"
          }
        },
        {
          "name": "Create User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": null,\n  \"email\": \"demo@ecotrack.com\",\n  \"passwordHash\": \"hashedpassword123\",\n  \"displayName\": \"Usuário Demo\"\n}"
            },
            "url": {
              "raw": "{{base}}/api/users",
              "host": ["{{base}}"],
              "path": ["api", "users"]
            },
            "description": "Cria novo usuário"
          }
        },
        {
          "name": "Update User",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"demo@ecotrack.com\",\n  \"passwordHash\": \"newhashedpassword\",\n  \"displayName\": \"Usuário Demo Atualizado\"\n}"
            },
            "url": {
              "raw": "{{base}}/api/users/{userId}",
              "host": ["{{base}}"],
              "path": ["api", "users", "{userId}"],
              "variable": [
                {
                  "key": "userId",
                  "value": "22222222-2222-2222-2222-222222222222"
                }
              ]
            },
            "description": "Atualiza usuário existente"
          }
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base}}/api/users/{userId}",
              "host": ["{{base}}"],
              "path": ["api", "users", "{userId}"],
              "variable": [
                {
                  "key": "userId",
                  "value": "22222222-2222-2222-2222-222222222222"
                }
              ]
            },
            "description": "Remove usuário"
          }
        }
      ]
    },
    {
      "name": "Scan",
      "item": [
        {
          "name": "Record Scan",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"demo@ecotrack.com\",\n  \"barcode\": \"7891000310101\"\n}"
            },
            "url": {
              "raw": "{{base}}/api/scan",
              "host": ["{{base}}"],
              "path": ["api", "scan"]
            },
            "description": "Registra novo escaneamento de produto"
          }
        },
        {
          "name": "Get Scan History",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base}}/api/scan/history?email=demo@ecotrack.com",
              "host": ["{{base}}"],
              "path": ["api", "scan", "history"],
              "query": [
                {
                  "key": "email",
                  "value": "demo@ecotrack.com"
                }
              ]
            },
            "description": "Lista histórico de escaneamentos por email"
          }
        },
        {
          "name": "Add Favorite",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base}}/api/scan/favorite/{productId}?email=demo@ecotrack.com",
              "host": ["{{base}}"],
              "path": ["api", "scan", "favorite", "{productId}"],
              "query": [
                {
                  "key": "email",
                  "value": "demo@ecotrack.com"
                }
              ],
              "variable": [
                {
                  "key": "productId",
                  "value": "11111111-1111-1111-1111-111111111111"
                }
              ]
            },
            "description": "Adiciona produto aos favoritos do usuário"
          }
        },
        {
          "name": "Remove Favorite",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base}}/api/scan/favorite/{productId}?email=demo@ecotrack.com",
              "host": ["{{base}}"],
              "path": ["api", "scan", "favorite", "{productId}"],
              "query": [
                {
                  "key": "email",
                  "value": "demo@ecotrack.com"
                }
              ],
              "variable": [
                {
                  "key": "productId",
                  "value": "11111111-1111-1111-1111-111111111111"
                }
              ]
            },
            "description": "Remove produto dos favoritos"
          }
        },
        {
          "name": "List Favorites",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base}}/api/scan/favorites?email=demo@ecotrack.com",
              "host": ["{{base}}"],
              "path": ["api", "scan", "favorites"],
              "query": [
                {
                  "key": "email",
                  "value": "demo@ecotrack.com"
                }
              ]
            },
            "description": "Lista produtos favoritos do usuário"
          }
        }
      ]
    },
    {
      "name": "Impact",
      "item": [
        {
          "name": "Get Impact by Product ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base}}/api/impact/{productId}",
              "host": ["{{base}}"],
              "path": ["api", "impact", "{productId}"],
              "variable": [
                {
                  "key": "productId",
                  "value": "11111111-1111-1111-1111-111111111111"
                }
              ]
            },
            "description": "Obtém dados de impacto ambiental do produto"
          }
        },
        {
          "name": "Create/Update Impact",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"productId\": \"11111111-1111-1111-1111-111111111111\",\n  \"co2PerUnit\": 0.9,\n  \"waterL\": 150.5,\n  \"origin\": \"Brasil\",\n  \"updatedAt\": \"2024-01-15T10:30:00Z\"\n}"
            },
            "url": {
              "raw": "{{base}}/api/impact",
              "host": ["{{base}}"],
              "path": ["api", "impact"]
            },
            "description": "Cria ou atualiza dados de impacto ambiental"
          }
        }
      ]
    },
    {
      "name": "Nutrition",
      "item": [
        {
          "name": "List Nutrition by Product ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base}}/api/nutrition/{productId}",
              "host": ["{{base}}"],
              "path": ["api", "nutrition", "{productId}"],
              "variable": [
                {
                  "key": "productId",
                  "value": "11111111-1111-1111-1111-111111111111"
                }
              ]
            },
            "description": "Lista informações nutricionais do produto"
          }
        },
        {
          "name": "Create Nutrition",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": null,\n  \"product\": {\n    \"id\": \"11111111-1111-1111-1111-111111111111\"\n  },\n  \"nutriKey\": \"Proteínas\",\n  \"nutriValue\": \"12g por 100g\"\n}"
            },
            "url": {
              "raw": "{{base}}/api/nutrition",
              "host": ["{{base}}"],
              "path": ["api", "nutrition"]
            },
            "description": "Adiciona informação nutricional ao produto"
          }
        },
        {
          "name": "Delete Nutrition",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base}}/api/nutrition/{nutritionId}",
              "host": ["{{base}}"],
              "path": ["api", "nutrition", "{nutritionId}"],
              "variable": [
                {
                  "key": "nutritionId",
                  "value": "33333333-3333-3333-3333-333333333333"
                }
              ]
            },
            "description": "Remove informação nutricional"
          }
        }
      ]
    }
  ]
}
